# LedeWire AI Research Tool - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=production  # development | staging | production

# =============================================================================
# SECURITY - CORS
# =============================================================================
# CRITICAL: Set allowed origins in production (comma-separated list)
# Example: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=

# =============================================================================
# DATABASE
# =============================================================================
USE_POSTGRES=true  # Use PostgreSQL in production (true), SQLite in dev (false)
DATABASE_URL=  # Auto-populated by Replit PostgreSQL

# =============================================================================
# API KEYS - Required
# =============================================================================
TAVILY_API_KEY=  # Required for web search
ANTHROPIC_API_KEY=  # Required for AI features

# Optional API Keys
TOLLBIT_API_KEY=  # For licensed content access

# =============================================================================
# LEDEWIRE INTEGRATION
# =============================================================================
LEDEWIRE_API_URL=https://api-staging.ledewire.com

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=60/minute  # Default for most endpoints
RESEARCH_RATE_LIMIT=10/minute  # Research endpoints (more expensive)
REPORT_RATE_LIMIT=5/minute  # Report generation (most expensive)

# =============================================================================
# BUDGET CONTROLS - Cost Management
# =============================================================================
# Per-user daily limits
DAILY_USER_BUDGET_CENTS=1000  # $10 per user per day
MAX_API_CALLS_PER_USER_PER_DAY=100  # Max API calls per user per day

# Global daily limit (safety net)
GLOBAL_DAILY_BUDGET_CENTS=100000  # $1000 per day across all users

# API Cost Estimates (in cents) - for budget tracking
TAVILY_COST_PER_CALL=10  # $0.10 per Tavily search
CLAUDE_HAIKU_COST_PER_CALL=5  # $0.05 per Claude Haiku call
CLAUDE_SONNET_COST_PER_CALL=100  # $1.00 per Claude Sonnet call

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO  # DEBUG | INFO | WARNING | ERROR
STRUCTURED_LOGGING=true  # JSON logs for production, human-readable for dev

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# ✅ ALLOWED_ORIGINS is set to your actual domain(s)
# ✅ USE_POSTGRES=true for multi-user support
# ✅ All API keys are set (TAVILY, ANTHROPIC)
# ✅ Budget controls are configured appropriately
# ✅ Rate limits are set to prevent abuse
# ✅ STRUCTURED_LOGGING=true for better monitoring
